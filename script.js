(()=>{"use strict";var n={208:(n,e,t)=>{t.d(e,{A:()=>c});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([n.id,"/* standards ________________________________________________________________*/\n:root {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,\n    'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n\n  --black010: rgba(0, 0, 0, 0.1);\n  --black050: rgba(0, 0, 0, 0.5);\n  --gray010: rgba(128, 128, 128, 0.1);\n  --gray050: rgba(128, 128, 128, 0.5);\n  --white010: rgba(255, 255, 255, 0.1);\n  --white050: rgba(255, 255, 255, 0.5);\n\n  --accent: lightsteelblue;\n\n  --shadow: 0 0 0.5rem var(--black050);\n\n  --gamefield-size: 20rem;\n  background-color: rgba(0, 0, 0, 0.875);\n}\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  border: 0;\n  padding: 0;\n\n  outline: none;\n\n  font-size: 1rem;\n  line-height: 1.5;\n\n  color: rgba(255, 255, 255, 0.65);\n  /* border: 1px solid red; */\n}\n\n/* imports __________________________________________________________________*/\n\n/* @font-face {\n    font-family: Italiana;\n    src: url(\"./Italiana-Regular.ttf\");\n  } */\n\n/* elements _________________________________________________________________*/\n\nhr {\n  border: 1px solid var(--color-black050);\n  width: 75%;\n}\n\nimage {\n  object-fit: cover;\n  object-position: center center;\n  width: 100%;\n  aspect-ratio: 1 / 1;\n}\n\n.button {\n  border-radius: 10rem;\n  /* padding: 0.5rem 1rem; */\n  width: 10rem;\n  align-self: center;\n\n  /* background-color: var(--accent); */\n  /* color: var(--accent); */\n\n  border: 1px solid var(--white050);\n\n  cursor: pointer;\n}\n\n/* segments _________________________________________________________________*/\n\nbody {\n  > header {\n    width: 100vw;\n  }\n  > main {\n    width: clamp(300px, 100%, 900px);\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    text-align: center;\n    padding: 1rem;\n    margin-top: 1rem;\n    > * {\n      margin-bottom: 1rem;\n    }\n  }\n  > footer {\n    width: 100vw;\n  }\n}\n\n.gameboards {\n  display: flex;\n  justify-content: space-evenly;\n  > .gameboard {\n    width: var(--gamefield-size);\n    height: var(--gamefield-size);\n\n    display: grid;\n    grid-template-columns: repeat(10, 1fr);\n\n    border: 1px solid var(--white010);\n    > .gamefield {\n      border: 1px solid var(--white010);\n    }\n  }\n}\n\n#computerGameboard > .gamefield {\n  cursor: pointer;\n}\n\n.ship {\n  background-color: rgba(255, 255, 0, 0.5);\n}\n\n.ships {\n  display: flex;\n  justify-content: space-evenly;\n}\n\n.placedShip {\n  background-color: rgba(255, 255, 0, 0.5);\n}\n.missed {\n  background-color: rgba(255, 0, 0, 0.5);\n}\n\n.hit {\n  background-color: rgba(0, 128, 0, 0.5);\n}\n\n.gameboards {\n  order: 0;\n}\n.ships {\n  order: 1;\n}\n.announcement {\n  order: 2;\n}\n.button {\n  order: 3;\n}\n",""]);const c=i},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,a,o){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var u=0;u<n.length;u++){var l=[].concat(n[u]);r&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),e.push(l))}},e}},601:n=>{n.exports=function(n){return n[1]}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var o={},i=[],c=0;c<n.length;c++){var s=n[c],u=r.base?s[0]+r.base:s[0],l=o[u]||0,d="".concat(u," ").concat(l);o[u]=l+1;var _=t(d),f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==_)e[_].references++,e[_].updater(f);else{var m=a(f,r);r.byIndex=c,e.splice(c,0,{identifier:d,updater:m,references:1})}i.push(d)}return i}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var o=r(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<o.length;i++){var c=t(o[i]);e[c].references--}for(var s=r(n,a),u=0;u<o.length;u++){var l=t(o[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}o=s}}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return n[r](o,o.exports,t),o.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var r=t(72),a=t.n(r),o=t(825),i=t.n(o),c=t(659),s=t.n(c),u=t(56),l=t.n(u),d=t(540),_=t.n(d),f=t(113),m=t.n(f),p=t(208),h={};h.styleTagTransform=m(),h.setAttributes=l(),h.insert=s().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=_(),a()(p.A,h),p.A&&p.A.locals&&p.A.locals;const b=function(n,e,t,r={},a={}){const o=document.createElement(e);""!==t&&(o.innerHTML=t);for(const[n,e]of Object.entries(r))o.setAttribute(n,e);for(const[n,e]of Object.entries(a))o.addEventListener(n,e);document.querySelector(n).appendChild(o)};function v(n){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},v(n)}function g(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(n){u=!0,a=n}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(n,e)||function(n,e){if(n){if("string"==typeof n)return y(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function S(n,e){return{name:n,length:e,hits:0,sunk:!1,hitFn:function(){return this.hits=this.hits+1,this.checkShipCondition(),this},checkShipCondition:function(){return this.hits==this.length&&(this.sunk=!0),this}}}function k(n){return{name:n,gameboard:{coordinates:function(){for(var n=[],e=9;e>=0;e--)for(var t=0;t<10;t++)n.push([t,e]);return n}(),placedShips:[],placeShip:function(n,e){var t=g(e,2),r=t[0],a=t[1];if(0==this.checkAlreadyPlaced(n,[r,a]))return!1;for(var o=0;o<n.length;o++)this.placedShips.push(r+o,a,n);return this},checkAlreadyPlaced:function(n,e){var t=g(e,2),r=t[0],a=t[1];if(r+parseInt(n.length)>10)return!1;for(var o=[],i=0;i<n.length;i++)o.push(r+i);return!this.placedShips.some((function(n,e,t){return o.some((function(n){return t[e]==n&&t[e+1]==a}))}))&&void 0},attacks:[],receiveAttack:function(n){var e=g(n,2),t=e[0],r=e[1];if(1==this.checkAlreadyAttacked([t,r]))return!1;var a=this.placedShips.reduce((function(n,e,a,o){return n||(o[a]==t&&o[a+1]==r?o[a+2]:null)}),null);return null!==a?(a.hitFn(),this.attacks.push(t,r,"hit")):this.attacks.push(t,r,"missed"),this.checkGameCondition(),this},checkAlreadyAttacked:function(n){var e=g(n,2),t=e[0],r=e[1];return this.attacks.some((function(n,e,a){return a[e]==t&&a[e+1]==r}))},allSunk:!1,checkGameCondition:function(){return this.allSunk=this.placedShips.reduce((function(n,e){return("object"!==v(e)||!1!==e.sunk)&&n}),!0),this}}}}function A(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,c=[],s=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(n){u=!0,a=n}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(n,e)||function(n,e){if(n){if("string"==typeof n)return x(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}b("main","div","",{class:"gameboards"});var w=k("human");b(".gameboards","div","",{class:"gameboard",id:"humanGameboard"}),w.gameboard.coordinates.forEach((function(n){b("#humanGameboard","div","",{class:"gamefield","data-id":n})}));var j=k("computer");function I(){document.querySelector(".announcement").innerHTML="It's your turn!";var n=document.querySelector("#computerGameboard");n.addEventListener("click",(function e(t){var r=t.target.dataset.id.split(",").map(Number);0!=j.gameboard.receiveAttack(r)&&(j.gameboard.receiveAttack(r),n.removeEventListener("click",e),M(j),1!=E()&&(document.querySelector(".announcement").innerHTML="It's computers turn!",setTimeout((function(){for(var n=0,e=0;n=Math.floor(10*Math.random()),e=Math.floor(10*Math.random()),!w.gameboard.receiveAttack([n,e]););M(w),1!=E()&&I()}),1e3)))}))}function M(n){n.gameboard.attacks.map((function(e,t,r){if(t%3==0){var a=r[t],o=r[t+1],i=r[t+2];document.querySelector("#".concat(n.name,'Gameboard>[data-id = "').concat(a,",").concat(o,'"]')).classList.add(i)}}))}function E(){return 1==w.gameboard.allSunk?(document.querySelector(".announcement").innerHTML="Computer won!",!0):1==j.gameboard.allSunk&&(document.querySelector(".announcement").innerHTML="You won!",!0)}b(".gameboards","div","",{class:"gameboard",id:"computerGameboard"}),j.gameboard.coordinates.forEach((function(n){b("#computerGameboard","div","",{class:"gamefield","data-id":n})})),b("main","div","Place your ships!",{class:"announcement"}),b("main","div","Restart",{class:"button"},{click:function(){return location.reload()}});for(var T=[["carrier",5],["battleship",4],["destroyer",3],["submarine",3],["patrolBoat",2]],C=0;C<T.length;){var L=A(T[C],2),q=L[0],O=L[1],G=S(q,O),H=parseInt(10*Math.random()),P=parseInt(10*Math.random());0!=j.gameboard.placeShip(G,[H,P])&&(j.gameboard.placeShip(S(q,O),[H,P]),C++)}b("main","div","",{class:"ships"}),T.forEach((function(n){var e=A(n,2),t=e[0],r=e[1];b(".ships","div","",{style:"height: 2rem; width: ".concat(2*r,"rem;"),draggable:"true",class:"ship",id:t,"data-length":r},{dragstart:function(n){n.dataTransfer.setData("text/plain","".concat(n.target.id,",").concat(n.target.dataset.length))}})})),document.querySelectorAll("#humanGameboard > .gamefield").forEach((function(n){n.addEventListener("dragover",(function(n){n.preventDefault()})),n.addEventListener("drop",(function(n){n.preventDefault();var e=A(n.target.dataset.id.split(",").map(Number),2),t=e[0],r=e[1],a=A(n.dataTransfer.getData("text").split(","),2),o=a[0],i=S(o,a[1]);0!=w.gameboard.placeShip(i,[t,r])&&(w.gameboard.placeShip(i,[t,r]),document.querySelector("#".concat(o)).remove(),w.gameboard.placedShips.map((function(n,e,t){e%3==0&&document.querySelector("#humanGameboard").querySelector('[data-id = "'.concat(t[e],",").concat(t[e+1],'"]')).classList.add("placedShip")})),51==j.gameboard.placedShips.length&&51==w.gameboard.placedShips.length&&I())}))}))})();